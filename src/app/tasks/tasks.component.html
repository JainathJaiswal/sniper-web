
<h2>My Tasks</h2>
<table class="table table-striped table-hover">
    <thead>
        <tr>
			<th>#</th>
            <th>Id</th>
            <th>Name</th>
          	<th>Description</th>
			<th>Priority</th>
			<th>Status</th>
			<th>Archived</th>
			<th>CreatedDate</th>
			<th>UpdatedDate</th>
			<th>CreatedBy</th>
			<th>UpdatedBy</th>
			<th>Completed</th>
			<th>Version</th>
			<!--<th>Modal Update</th>-->
			<th>Update</th>
			<th>Delete</th>
			<th>View</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let task of tasks" (click)="showInfo(task)">
			<td>
			<input class="form-check-input" type="checkbox" (click)="toggleCompleted(task)">
			</td>
            <td>{{task.id}}</td>
            <td>{{task.name}}</td>
            <td>{{task.description}}</td>
			<td>{{task.priority}}</td>
			<td>{{task.status}}</td>
			<td>{{task.archived}}</td>
			<td>{{task.createdDate | date : "medium"}}</td>
			<td>{{task.updatedDate | date : "medium"}}</td>
			<td>{{task.createdBy}}</td>
			<td>{{task.updatedBy}}</td>
			<td>{{task.completed}}</td>
			<td>{{task.version}}</td>
			<td>
			<button class="btn btn btn-outline-primary" (click)="open(content,task)">Update</button>
			</td>
			
			<!--<td><button type="button" class="btn btn-outline-primary" (click)="updateTask(task)">Update</button> </td> -->
			<td><button type="button" class="btn btn-outline-primary" (click)="deleteTask(task.id)">Delete</button></td>
			<td>
			 <a routerLink="/task-detail/{{task.id}}">
      <span class="btn btn-outline-primary">{{task.id}}</span>
    </a>
			</td>
        </tr>
    </tbody>
</table>

<strong>Selected Name: {{currentTask.name}}</strong>


<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Update Task</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
   	<div *ngIf="currentTask">
   <p>{{ currentTask.name | uppercase }} Details</p>
  <div><span>Id: </span>{{currentTask.id}}</div>
  <div>
    <label>name:</label>
	 <input [(ngModel)]="currentTask.name">
  </div>
 
</div>
	
  </div>
  <div class="modal-footer">
	<button type="button" class="btn btn-outline-dark" (click)="c(hi)">Update</button>
    <button type="button" class="btn btn-outline-dark" (click)="c('Close click')">Close</button>
  </div>
</ng-template>

<hr>

<!--<pre>{{closeResult}}</pre>-->